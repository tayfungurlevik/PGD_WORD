{"version":3,"sources":["../src/components/Spinner/useSpinnerStyles.styles.ts"],"sourcesContent":["import { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { tokens, typographyStyles } from '@fluentui/react-theme';\nimport type { SlotClassNames } from '@fluentui/react-utilities';\nimport { makeResetStyles, makeStyles, mergeClasses } from '@griffel/react';\nimport type { SpinnerSlots, SpinnerState } from './Spinner.types';\n\nexport const spinnerClassNames: SlotClassNames<SpinnerSlots> = {\n  root: 'fui-Spinner',\n  spinner: 'fui-Spinner__spinner',\n  spinnerTail: 'fui-Spinner__spinnerTail',\n  label: 'fui-Spinner__label',\n};\n\n/**\n * CSS variables used internally by Spinner\n */\nconst vars = {\n  strokeWidth: '--fui-Spinner--strokeWidth',\n};\n\nconst useRootBaseClassName = makeResetStyles({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  lineHeight: '0',\n  gap: '8px',\n  overflow: 'hidden', // prevents height changes from rotating children\n});\n\nconst useRootStyles = makeStyles({\n  vertical: {\n    flexDirection: 'column',\n  },\n});\n\nconst useSpinnerBaseClassName = makeResetStyles({\n  position: 'relative',\n  flexShrink: 0,\n\n  // Use a mask to create the ring shape of the spinner.\n  maskImage:\n    `radial-gradient(closest-side, ` +\n    `transparent calc(100% - var(${vars.strokeWidth}) - 1px), ` +\n    `white calc(100% - var(${vars.strokeWidth})) calc(100% - 1px), ` +\n    `transparent 100%)`,\n\n  backgroundColor: tokens.colorBrandStroke2Contrast,\n  color: tokens.colorBrandStroke1,\n  '@media screen and (forced-colors: active)': {\n    backgroundColor: 'HighlightText',\n    color: 'Highlight',\n    forcedColorAdjust: 'none',\n  },\n\n  animationDuration: '1.5s',\n  animationIterationCount: 'infinite',\n  animationTimingFunction: 'linear',\n  animationName: {\n    '0%': { transform: 'rotate(0deg)' },\n    '100%': { transform: 'rotate(360deg)' },\n  },\n\n  '@media screen and (prefers-reduced-motion: reduce)': {\n    animationDuration: '1.8s',\n  },\n});\n\n// The spinner tail is rendered using two 135deg arc segments, behind a 105deg arc mask.\n// The segments are rotated out from behind the mask to expand the visible arc from\n// 30deg (min) to 255deg (max), and then back behind the mask again to shrink the arc.\n// The tail and spinner itself also have 360deg rotation animations for the spin.\nconst useSpinnerTailBaseClassName = makeResetStyles({\n  position: 'absolute',\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  maskImage: 'conic-gradient(transparent 105deg, white 105deg)',\n\n  '&::before, &::after': {\n    content: '\"\"',\n    position: 'absolute',\n    display: 'block',\n    width: '100%',\n    height: '100%',\n    animation: 'inherit',\n    backgroundImage: 'conic-gradient(currentcolor 135deg, transparent 135deg)',\n  },\n\n  animationDuration: '1.5s',\n  animationIterationCount: 'infinite',\n  animationTimingFunction: tokens.curveEasyEase,\n  animationName: {\n    '0%': { transform: 'rotate(-135deg)' },\n    '50%': { transform: 'rotate(0deg)' },\n    '100%': { transform: 'rotate(225deg)' },\n  },\n  '&::before': {\n    animationName: {\n      '0%': { transform: 'rotate(0deg)' },\n      '50%': { transform: 'rotate(105deg)' },\n      '100%': { transform: 'rotate(0deg)' },\n    },\n  },\n  '&::after': {\n    animationName: {\n      '0%': { transform: 'rotate(0deg)' },\n      '50%': { transform: 'rotate(225deg)' },\n      '100%': { transform: 'rotate(0deg)' },\n    },\n  },\n  '@media screen and (prefers-reduced-motion: reduce)': {\n    animationIterationCount: '0',\n    backgroundImage: 'conic-gradient(transparent 120deg, currentcolor 360deg)',\n    '&::before, &::after': {\n      content: 'none',\n    },\n  },\n});\n\nconst useSpinnerStyles = makeStyles({\n  inverted: {\n    backgroundColor: tokens.colorNeutralStrokeAlpha2,\n    color: tokens.colorNeutralStrokeOnBrand2,\n  },\n\n  rtlTail: {\n    maskImage: 'conic-gradient(white 255deg, transparent 255deg)',\n    '&::before, &::after': {\n      backgroundImage: 'conic-gradient(transparent 225deg, currentcolor 225deg)',\n    },\n    '@media screen and (prefers-reduced-motion: reduce)': {\n      backgroundImage: 'conic-gradient(currentcolor 0deg, transparent 240deg)',\n    },\n  },\n\n  'extra-tiny': {\n    height: '16px',\n    width: '16px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  tiny: {\n    height: '20px',\n    width: '20px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  'extra-small': {\n    height: '24px',\n    width: '24px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  small: {\n    height: '28px',\n    width: '28px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  medium: {\n    height: '32px',\n    width: '32px',\n    [vars.strokeWidth]: tokens.strokeWidthThicker,\n  },\n\n  large: {\n    height: '36px',\n    width: '36px',\n    [vars.strokeWidth]: tokens.strokeWidthThicker,\n  },\n\n  'extra-large': {\n    height: '40px',\n    width: '40px',\n    [vars.strokeWidth]: tokens.strokeWidthThicker,\n  },\n\n  huge: {\n    height: '44px',\n    width: '44px',\n    [vars.strokeWidth]: tokens.strokeWidthThickest,\n  },\n});\n\nconst useLabelStyles = makeStyles({\n  inverted: {\n    color: tokens.colorNeutralForegroundStaticInverted,\n  },\n\n  'extra-tiny': {\n    ...typographyStyles.body1,\n  },\n\n  tiny: {\n    ...typographyStyles.body1,\n  },\n\n  'extra-small': {\n    ...typographyStyles.body1,\n  },\n\n  small: {\n    ...typographyStyles.body1,\n  },\n\n  medium: {\n    ...typographyStyles.subtitle2,\n  },\n\n  large: {\n    ...typographyStyles.subtitle2,\n  },\n\n  'extra-large': {\n    ...typographyStyles.subtitle2,\n  },\n\n  huge: {\n    ...typographyStyles.subtitle1,\n  },\n});\n\n/**\n * Apply styling to the Spinner slots based on the state\n */\nexport const useSpinnerStyles_unstable = (state: SpinnerState): SpinnerState => {\n  'use no memo';\n\n  const { labelPosition, size, appearance } = state;\n  const { dir } = useFluent();\n\n  const rootBaseClassName = useRootBaseClassName();\n  const rootStyles = useRootStyles();\n  const spinnerBaseClassName = useSpinnerBaseClassName();\n  const spinnerStyles = useSpinnerStyles();\n  const spinnerTailBaseClassName = useSpinnerTailBaseClassName();\n  const labelStyles = useLabelStyles();\n\n  state.root.className = mergeClasses(\n    spinnerClassNames.root,\n    rootBaseClassName,\n    (labelPosition === 'above' || labelPosition === 'below') && rootStyles.vertical,\n    state.root.className,\n  );\n  if (state.spinner) {\n    state.spinner.className = mergeClasses(\n      spinnerClassNames.spinner,\n      spinnerBaseClassName,\n      spinnerStyles[size],\n      appearance === 'inverted' && spinnerStyles.inverted,\n      state.spinner.className,\n    );\n  }\n  if (state.spinnerTail) {\n    state.spinnerTail.className = mergeClasses(\n      spinnerClassNames.spinnerTail,\n      spinnerTailBaseClassName,\n      dir === 'rtl' && spinnerStyles.rtlTail,\n      state.spinnerTail.className,\n    );\n  }\n  if (state.label) {\n    state.label.className = mergeClasses(\n      spinnerClassNames.label,\n      labelStyles[size],\n      appearance === 'inverted' && labelStyles.inverted,\n      state.label.className,\n    );\n  }\n\n  return state;\n};\n"],"names":["useFluent_unstable","useFluent","tokens","typographyStyles","makeResetStyles","makeStyles","mergeClasses","spinnerClassNames","root","spinner","spinnerTail","label","vars","strokeWidth","useRootBaseClassName","display","alignItems","justifyContent","lineHeight","gap","overflow","useRootStyles","vertical","flexDirection","useSpinnerBaseClassName","position","flexShrink","maskImage","backgroundColor","colorBrandStroke2Contrast","color","colorBrandStroke1","forcedColorAdjust","animationDuration","animationIterationCount","animationTimingFunction","animationName","transform","useSpinnerTailBaseClassName","width","height","content","animation","backgroundImage","curveEasyEase","useSpinnerStyles","inverted","colorNeutralStrokeAlpha2","colorNeutralStrokeOnBrand2","rtlTail","strokeWidthThick","tiny","small","medium","strokeWidthThicker","large","huge","strokeWidthThickest","useLabelStyles","colorNeutralForegroundStaticInverted","body1","subtitle2","subtitle1","useSpinnerStyles_unstable","state","labelPosition","size","appearance","dir","rootBaseClassName","rootStyles","spinnerBaseClassName","spinnerStyles","spinnerTailBaseClassName","labelStyles","className"],"mappings":"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"}